

Использование файла в качестве библиотеки и отдельного скрипта.

#!/bin/bash
TesT() {
  echo TesT
}
[[ "${BASH_SOURCE[0]}" == "$0" ]] && TesT
Функция не вызывается если данный файл подгружается из скрипта.

source ./script.sh  # Далее можно использовать функцию ( TesT )
Функция вызывается если данный файл запущен как скрипт.

./script.sh
Массив ( BASH_SOURCE ).

man bash # PARAMETERS -> Shell Variables
P.S Всем добра…


